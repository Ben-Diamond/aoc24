[data := open("./aoc/2024/day 04/data.txt").read().split("\n"), check:= lambda y,x,val: y < len(data) and y > -1 and x < len(data[0]) and x > -1 and data[y][x] == val, total := print(sum([sum([(data[y][x] == "X") * sum([check(y + dir[0],x+dir[1],"M") and check(y + 2*dir[0],x+2*dir[1],"A") and check(y + 3*dir[0],x+3*dir[1],"S") for dir in (((0,1),(0,-1),(1,0),(-1,0),(1,1),(1,-1),(-1,-1),(-1,1)))])for x in range(len(data[y]))] )for y in range(len(data))]))]
